{"version":3,"sources":["webpack:///E:/2016171102李冠儒毕设源码/凉安租房/main.js","webpack:///E:/2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue?1264","webpack:///E:/2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue?9a20","webpack:///E:/2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue?5e3b","webpack:///E:/2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue?56dd","webpack:///E:/2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue","webpack:///E:/2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue?8327","webpack:///E:/2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue?1b06"],"names":["createPage","Page","_self","components","uniIcons","uniBadge","uniListItem","uniSwipeAction","uniSwipeActionItem","computed","data","lists","options2","text","style","backgroundColor","onShow","getList","onPullDownRefresh","watch","receiveMessage","res","console","log","methods","bindClick","item","params","target","username","jpushIM","deleteConversation","errorCode","uni","showModal","title","content","errorMsg","showCancel","cancelText","confirmText","stopPullDownRefresh","setList","items","newItems","forEach","e","latestMessage","messageType","lastMessageText","messageString","lastMessageTime","dateUtils","formatDateTime","timestamp","avatar","push","chatDetail","fromUser","nickname","navigateTo","url","JSON","stringify"],"mappings":"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","file":"pages/im-chat/im-list.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/im-chat/im-list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./im-list.vue?vue&type=template&id=21f4d26d&\"\nvar renderjs\nimport script from \"./im-list.vue?vue&type=script&lang=js&\"\nexport * from \"./im-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./im-list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('21f4d26d')) {\n      api.createRecord('21f4d26d', component.options)\n    } else {\n      api.reload('21f4d26d', component.options)\n    }\n    module.hot.accept(\"./im-list.vue?vue&type=template&id=21f4d26d&\", function () {\n      api.rerender('21f4d26d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"2016171102李冠儒毕设源码/凉安租房/pages/im-chat/im-list.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./im-list.vue?vue&type=template&id=21f4d26d&\"","var components = {\n  \"uni-swipe-action\": () =>\n    import(/* webpackChunkName: \"components/uni-swipe-action/uni-swipe-action\" */ \"@/components/uni-swipe-action/uni-swipe-action.vue\"),\n  \"uni-swipe-action-item\": () =>\n    import(/* webpackChunkName: \"components/uni-swipe-action-item/uni-swipe-action-item\" */ \"@/components/uni-swipe-action-item/uni-swipe-action-item.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./im-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./im-list.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapState,\n\tmapMutations\n} from 'vuex'\nimport uniListItem from '@/components/uni-list-item/uni-list-item.vue'\n\n\n\n\n\nimport uniIcons from '@/components/uni-icons/uni-icons.vue'\nimport uniBadge from '@/components/uni-badge/uni-badge.vue'\nimport uniSwipeAction from '@/components/uni-swipe-action/uni-swipe-action.vue'\nimport uniSwipeActionItem from '@/components/uni-swipe-action-item/uni-swipe-action-item.vue'\nvar _self;\nexport default {\n\tcomponents: {\n\t\tuniIcons,\n\t\tuniBadge,\n\t\tuniListItem,\n\t\tuniSwipeAction,\n\t\tuniSwipeActionItem\n\t},\n\tcomputed: {\n\t\t...mapState(['hasLogin', 'loginProvider', 'nickname', 'avatar', 'receiveMessage', 'newFriendInvitiaon']),\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlists: [],\n\t\t\toptions2: [{\n\t\t\t\ttext: '删除',\n\t\t\t\tstyle: {\n\t\t\t\t\tbackgroundColor: '#FF3A30'\n\t\t\t\t}\n\t\t\t}],\n\t\t}\n\t},\n\tonShow() {\n\t\t_self = this;\n\t\tthis.getList();\n\t},\n\tonPullDownRefresh() {\n\t\t// 下拉刷新\n\t\tthis.getList();\n\t},\n\twatch: {\n\t\treceiveMessage(res) {\n\t\t\tconsole.log(\"监听到新消息，更新列表\");\n\t\t\tthis.getList();\n\t\t}\n\t},\n\tmethods: {\n\t\tbindClick(item) {\n\t\t\t// console.log(item);\n\t\t\t// 删除\n\t\t\tvar params = {\n\t\t\t\t\"type\": \"single\",\n\t\t\t\t\"username\": item.target.username\n\t\t\t};\n\t\t\tthis.jpushIM.deleteConversation(params, (res) => {\n\t\t\t\tif (res.errorCode == 0) {\n\t\t\t\t\tthis.getList();\n\t\t\t\t} else {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '删除失败',\n\t\t\t\t\t\tcontent: \"原因：\" + res.errorMsg,\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tcancelText: '',\n\t\t\t\t\t\tconfirmText: '关闭'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 从本地数据库中获取会话列表，默认按照会话的最后一条消息的时间，降序排列\n\t\tgetList: function() {\n\t\t\tuni.stopPullDownRefresh();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t},\n\t\tsetList: function(items) {\n\t\t\tvar newItems = [];\n\t\t\titems.forEach((e) => {\n\t\t\t\tif (e) {\n\t\t\t\t\tif (e.latestMessage) {\n\t\t\t\t\t\tif (e.latestMessage.messageType == \"img\") {\n\t\t\t\t\t\t\te.lastMessageText = \"[图片]\";\n\t\t\t\t\t\t} else if (e.latestMessage.messageType == \"voice\") {\n\t\t\t\t\t\t\te.lastMessageText = \"[语音]\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\te.lastMessageText = e.latestMessage.messageString;\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.lastMessageTime = this.dateUtils.formatDateTime((e.latestMessage.timestamp), \"str\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.lastMessageText = \"\";\n\t\t\t\t\t\te.lastMessageTime = \"\";\n\t\t\t\t\t}\n\t\t\t\t\te.avatar = e.target.avatar ? e.target.avatar : \"../../static/chat_icon.png\";\n\t\t\t\t\tnewItems.push(e);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newItems;\n\t\t},\n\t\tchatDetail(e) {\n\t\t\tvar fromUser = {\n\t\t\t\t\"username\": e.target.username,\n\t\t\t\t\"nickname\": e.target.nickname,\n\t\t\t\t\"avatar\": e.target.avatar,\n\t\t\t}\n\t\t\t// console.log(\"JMessagePlugin chatDetail传参：\" + JSON.stringify(e.target));\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'im-chat?title=' + e.title + '&fromUser=' + JSON.stringify(fromUser)\n\t\t\t});\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./im-list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./im-list.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}